# 《Smart QC Tools 排列图模块》使用手册
**（软件著作权申请建议参考文档版本）**

---

## 1. 软件概述

### 1.1 软件名称及版本
**软件名称**：Smart QC Tools 工业级质量控制软件  
**版本号**：V1.0  
**功能模块**：排列图分析模块（Pareto Analysis Module）

### 1.2 开发背景与用途
排列图（Pareto Chart）是质量管理“老七种工具”之首，遵循“二八定律”，用于识别影响质量的关键少数因素。本软件排列图模块通过自研的 **三向联动（Triple Sync）** 引擎，解决了传统绘图工具在数据录入、逻辑校验与样式定制之间的断裂问题。软件通过自动化算法实现频数降序排列、累计百分比实时计算及 80% 关键线精准描绘，辅以 AI 语义分析，大幅提升了工业场景下的质量决策效率。

---

## 2. 软件运行环境

### 2.1 硬件要求
- **CPU**：1.6GHz 以上多核处理器
- **内存**：2GB (建议 4GB 及以上)
- **显示器**：分辨率 1280x800 或以上

### 2.2 软件要求
- **操作系统**：跨平台支持（Windows, macOS, Linux）
- **渲染引擎**：基于现代成熟的 Web 渲染技术
- **依赖服务**：支持标准 OpenAI/DeepSeek 协议的 AI 接口（用于智能推理模块）

---

## 3. 核心功能及操作规程

### 3.1 模块主界面
用户通过左侧导航栏点击 “Pareto Analysis” 进入。界面由以下核心区域组成：
1. **控制面板（左侧）**：包含“手动录入”、“DSL 编辑器”、“AI 推理”三大交互模式。
2. **可视化画布（右侧）**：基于 ECharts 工业级引擎构建，支持动态缩放、数据标签悬停及全量样式实时反映。

---

### 3.2 模式一：手动录入模式 (Manual Data Entry)
**功能描述**：为现场质量巡检人员提供直观、便捷的表格式数据管理。

**操作步骤**：
1. **基础信息设定**：在“图表基本信息”中输入“图表标题”。
2. **频数录入**：
   - 点击 **“添加统计项”** 增加新行。
   - 输入项目名称（如：划痕、杂质）及其对应的频数。
3. **即时联动**：录入过程中，右侧画布会自动对数据执行**降序排列算法**，并动态绘制累计百分比曲线。无需用户手动计算比例。

---

### 3.3 模式二：DSL 语法编辑器 (DSL Expert Mode)
**功能描述**：采用专为质量控制设计的结构化 DSL 语言，适用于高级用户批量配置复杂图表样式。

**语法规范**：
- `Title: [文字]`：设定主标题。
- `Color[Bar]: #HEX`：定义柱形图色彩方案。
- `Color[MarkLine]: #HEX`：定义 80% 关键参考线颜色。
- `Font[Base]: [Size]`：统一调整坐标轴字号。
- `Decimals: [0-4]`：精准控制频率百分比的小数点位数。
- `- 项目: 频数`：定义数据条目。

**操作规程**：
1. 进入 “DSL 编辑器” 标签页。
2. 在代码块中直接修改文本，系统内置的 Parser 会每秒执行一次语义扫描，实现“代码即图表”的极速预览。

---

### 3.4 模式三：AI 智能推理辅助 (AI Reasoning System)
**功能描述**：通过大模型语义分析，实现从自然语言描述到专业统计图表的一键跨越。

**操作步骤**：
1. 在 AI 面板的“统计场景描述”框中输入非结构化文本（例如：“上个季度由于物流破损导致了 420 起投诉，客服不专业 210 起，系统延迟 85 起...”）。
2. 点击 **“智能解析并回填”**。
3. 系统将调用后端推理引擎，自动化提取权重、执行分类，并将转换后的 DSL 回填至系统，同时刷新可视化预览。

---

### 3.5 自动化计算逻辑 (Core Algorithms)
本软件内置了严谨的数理统计逻辑：
- **自动降序算法**：无论录入顺序如何，系统强制按频数从大到小排列，确保符合排列图的标准规范。
- **动态累计频率计算**：`Total = Sum(Value)`, `Cumulative % = RunningSum / Total`。
- **80% MarkLine 自动化映射**：系统会自动扫描累计频率达 80% 的临界点，并在主次轴交汇处自动绘制标识线，协助用户执行 ABC 分类法。

---

### 3.6 画布交互与成果导出
1. **关键线开关**：支持一键开启/隐藏 80% 辅助线。
2. **导出中心**：
   - **PNG 导出**：支持透明/白底双模式高清图片生成。
   - **PDF 导出**：生成矢量级 PDF 报告，适用于正式质量分析白皮书。

---

## 4. 技术特性亮点（申办要点）

1. **三向数据实时同步引擎 (Real-time Triple-Sync Engine)**：
   - **技术解析**：系统底层维护了一个统一的状态机。无论用户是在 GUI 表单修改一个数值，还是在 DSL 编辑器中删除一行代码，或者是后端 AI 推送了新的逻辑片段，图形层（Canvas）都会在 16ms 内响应重绘。这种“所见即所得”的体验是本系统的核心技术壁垒。
2. **工业级数据预处理算法**：
   - **智能权重排序**：内置稳定的排序算法，能处理包括长字符串、特殊符号及高精度浮点数在内的多种原始数据，严格遵循质量管理规范。
   - **ABC 分类决策支持**：自动计算累计百分比，并在 0-80% (A类：主要因素)、80-90% (B类：次要因素)、90-100% (C类：一般因素) 关键区间提供视觉引导。
3. **基于 ECharts 的深度定制渲染**：
   - 针对双 Y 轴重叠、刻度对齐、坐标轴截断等工业图表特有的视觉痛点，执行了超过 20 项细微的样式校准。

---
*版本日期：2026年1月*  
* Smart QC Tools 排列图研发组 归档*
